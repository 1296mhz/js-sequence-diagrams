<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="css/style.css" media="screen" />

    <title>sequence-diagrams by bramp</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>js-sequence-diagrams</h1>
        <!--<h2>Draws simple UML sequence diagrams from a textual representation</h2>-->
        <h2>Turns text into UML sequence diagrams</h2>
        <!--
        <a href="https://github.com/bramp/svg-js-sequence-diagrams" class="button">
        <small>View project on</small>GitHub</a>
      -->
      </div>
      <a href="https://github.com/bramp/js-sequence-diagrams">
        <img class="gh-forkme" src="//s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub">
      </a>
    </header>

    <div id="main">

      <section id="demo">
        <table align="center" class="inner">
          <tr>
          <td>
          <h3>Demo. Try editing me below</h3>
          <div id="editor-wrapper">
            <div id="editor">Andrew->China: Says Hello
Note right of China: China thinks\nabout it
China-->Andrew: How are you?
Andrew->China: I am good thanks!
</div>
          </div>
          Theme:
          <select id="theme">
            <option value="simple">Simple</option>
            <option value="hand" selected>Hand drawn</option>
          </select>
          </td>
          <td id="diagram"></td>
        </tr>
      </table>

      </section>

      <div class="inner">
      <section id="info">
        <h3>Intro</h3>
        <p>A simple javascript library to turn text into vector <a href="http://en.wikipedia.org/wiki/Sequence_diagram">UML sequence diagrams</a>.
          Heavily inspired by <a href="http://www.websequencediagrams.com/">websequencediagrams.com</a>, who offer a serverside solution. We use <a href="http://zaach.github.com/jison/">Jison</a> to parse the text, and <a href="http://raphaeljs.com/">Raphaël</a> to draw the image.</p>
      </section>
      <section id="examples">
        <h3>Examples</h3>
      </section>
      <section id="syntax">
        <h3>Syntax</h3>
        <p>title</p>
        <p>participant actor</p>
        <p>note</p>
      </section>
      <section id="usage">
        <h3>Usage</h3>
        <p>js-sequence-diagrams deepends on <a href="http://underscorejs.org/">underscore</a>, and <a href="http://raphaeljs.com/">Raphaël</a>. To use include the following:
        <pre>&lt;script src=&quot;underscore-min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;raphael-min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;sequence-diagram.js&quot;&gt;&lt;/script&gt;
</pre>
and now you have two options. You can manually parse the text:
<pre>
&lt;div id=&quot;diagram&quot;&gt;&lt;/div&gt;

&lt;script&gt;
  var diagram = Diagram.parse(&quot;A-&gt;B: Message&quot;);
  diagram.drawSVG(&quot;diagram&quot;, {theme: &#39;hand&#39;});
&lt;/script&gt;
</pre>

or use jQuery to do all the work:
<pre>
&lt;div class=&quot;diagram&quot;&gt;A-&gt;B: Message&lt;/div&gt;
&lt;script&gt;
$(&quot;.diagram&quot;).sequenceDiagram({theme: &#39;hand&#39;});
&lt;/script&gt;
</pre>

</p>
      </section>
      </div>

<aside id="sidebar">
          <a href="https://github.com/bramp/svg-js-sequence-diagrams/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/bramp/svg-js-sequence-diagrams/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/bramp/svg-js-sequence-diagrams"></a> is maintained by <a href="https://github.com/bramp">bramp</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>

    </div>

<!--
        <aside id="sidebar">
          <a href="https://github.com/bramp/svg-js-sequence-diagrams/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/bramp/svg-js-sequence-diagrams/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/bramp/svg-js-sequence-diagrams"></a> is maintained by <a href="https://github.com/bramp">bramp</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
-->

    <footer>
      <div class="inner">
        by <a href="http://bramp.net">Andrew Brampton</a> - <a href="https://github.com/bramp">github</a> - <a href="https://twitter.com/TheBramp">@TheBramp</a>
      </div>
    </footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

    <!-- Needed for the text editor -->
    <script src="//d1n0x3qji82z53.cloudfront.net/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>

    <script src="underscore-min.js"></script>
    <script src="raphael-min.js"></script>
    <script src="fonts/daniel/daniel_700.font.js"></script>

    <!--
    <script src="../grammar.js"></script>
    <script src="../diagram.js"></script>
    <script src="../sequence-diagram.js"></script>
    -->

    <script src="sequence-diagram-min.js"></script>
 
    <script>
        var editor = ace.edit("editor");
        editor.setTheme("ace/theme/crimson_editor");
        editor.getSession().setMode("ace/mode/asciidoc");
        editor.getSession().on('change', _.debounce(on_change, 500));
        on_change();

        function on_change() {
          try {
            var diagram = Diagram.parse(editor.getValue());

            editor.getSession().setAnnotations([]);

            // Clear out old diagram
            var d = document.getElementById("diagram");
            d.innerHTML = "";

            var t = document.getElementById("theme");
            var options = {
              theme: t.options[t.selectedIndex].value,
              scale: 1
            };

            // Draw
            diagram.drawSVG(d, options);

          } catch(err) {
            var annotation = {
              type: "error", // also warning and information
              column: 0,
              row: 0,
              text: err.message
            };
            if (err instanceof Diagram.ParseError) {
              annotation.row    = err.loc.first_line - 1;
              annotation.column = err.loc.first_column;
            }
            editor.getSession().setAnnotations([annotation]);
            throw err;
          }

        }

    </script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-36551491-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>